# 1 章：Linux とは

## 基本ソフトウェアと応用ソフトウェア

- 基本ソフト・・・OS
- 応用ソフト・・・各アプリケーション

## UNIX

- Linux の基本設計は UNIX からきている
- Linux は GPL(GNU General Public License: GNU 一般公衆利用許諾)で公開されたことにより広く一般に浸透した

## Linux の特徴

- カーネル・・・OS の中核。ハードウェアの違いを吸収。
- ユーザランド・・・OS が動作するのに必要な、カーネル以外の部分のこと。ファイルシステム・シェルなど。
- シェル・・・対話型のコマンド入力環境。通常のコマンド受付の他、シェルスクリプトという、コマンドの自動化も使える。サーバ起動時に実行、毎日 0 時に実行、など。

## ディストリビューション

- Red Hat,Debian,Ubuntu など
- パッケージ・・・応用ソフトウェアを簡単に導入できるようにするためのもの
- パッケージマネージャ・・・パッケージの依存関係をまとめてマネジメントしたり、更新・削除なども含めて対応してくれるやつ。
  インターネットに接続されている必要がある模様。

# 2 章：Linux のインストール

- CentOS を使用・・・商用ディストリビューションである Red Hat Enterprise Linux の互換ディストリビューション  
  ⇨ 別 PC 用意 ×
  ⇨WLS で CentOS が標準サポートされてない模様？
  ⇨VirtualBox にて仮想マシンとして導入

# 3 章：基本的なコマンド

## ファイル操作

- フォルダ・ファイルの概念・呼び方は Windows と同じ模様
- 入力ソース

  - 日本語(かな漢字)で OK
  - その中に入力入力モードが複数あり、全／半キーで切替可能

- 「\*」でワイルドカード検索可能 ls コマンドなど
- 文字数で絞る場合は対象部分を「???」などとすることも可能
- -l オプションで長形式で情報取得
- オプションコマンドは複数使う場合まとめて記述できる模様
  - -lar ⇨ 隠しファイル含め長形式で逆順ソート表示
- cp コマンド ・・・コピー
  - 対象の状況によって新規・上書など色んな動きをする
  - 基本はファイル単位が多少だが -r オプションでディレクトリのコピーも可能
- mv コマンド・・・ファイル・ディレクトリの移動／名前の変更
- rm コマンド・・・ファイル・ディレクトリの削除
  - -r rm・mv コマンド共通のオプションで、『再帰的』を意味している。階層構造の中の中まで対象にする。

## ディレクトリ操作

- pwd ・・・Print Working Directory
- mkdir・・・ディレクトリ作成
  - -p オプションで複数階層に渡る新規ディレクトリを一発で作成することが可能
- rmdir ・・・ディレクトリ削除。中にファイルがある状態では実行できない
  - rm コマンドの-r オプション付き　という形で中身の入ったディレクトリ全削除も行える。
- カレントディレクトリは「.」で表す
- 親ディレクトリは「..」で表す
- ホームディレクトリは「~」チルダ　で表す
- ルートディレクトリは「/」で表す。最上位階層。
  - ホームディレクトリはあくまでホームであって、最上位階層ではない。ので、ホームディレクトリで cd .. すれば、それより上の階層に行ける。

## ファイルの内容を表示

- cat・・・ファイルの中身表示。-n オプションで行番号付。
- more/less・・・ページャ。cat の替わりに使える。色々操作でき、q キーで終了。

## ファイルの検索

- find・・・ファイル検索

## コマンドのパス

- コマンドもプログラムの一つであり、/bin や/sbin といったプログラム用のディレクトリ配下に配置されている。
- which コマンドで対象コマンドがどこに配置されているのかが確認できる。

## オンラインマニュアル

- man [対象コマンド]でオンラインマニュアルをページャで開ける。
- マニュアルには何に関することなのか、1~9 までのセクションが設けられている。ls なら 1.ユーザコマンド。

# 正規表現とパイプ

## 標準入出力

Linux のプログラムには 1 つの入口と 2 つの出口がある。
標準入力・標準出力・標準エラー出力。

## リダイレクト

- コマンド > 指定の出力先　と指定すると、標準出力を対象ファイルに出力できる。ターミナルへの標準出力をリダイレクトするということ。

- cat コマンドとリダイレクトを組み合わせれば入力待ち状態となり、自由な内容で新規ファイルを生成することができる。
  - 入力が終わったら ctrl+D で終了。(EOF 信号)
- 標準エラー出力だけを指定してリダイレクトできたりもする。標準出力は 1、標準エラー出力は 2 で指定する。

## パイプ

コマンドとコマンドを「|（パイプ）」でつなげることでパイプの前のコマンドを後ろのコマンドの標準入力とすることができる。

## grep コマンド

- 絞り込み。正規表現により様々に検索可能。

# 基本的なコマンド 2

## touch

- 対象ファイルのタイムスタンプを更新。
- -t オプションで日時の指定も可能。
- ファイルが存在しない場合は新規作成となる。

## ファイルの一部取得

- head・・・対象ファイルの先頭 10 行を表示。-n オプションで行数指定。
  ファイルの指定無しの場合は標準入力を対象とする(パイプで繋いで使用)。

- tail・・・対象ファイルの末尾　以下同文。-f オプションを付けることで、変更をリアルタイムに確認可能。ログを対象ファイルに排出している場合など。Ctrl+C で終了。

## ソート

- sort でテキストファイルの行をソート可能
  - 半角スペースで列を分割
  - -k コマンド+列の指定で、その列を対象としてソート可能。
  - 辞書式・数値式に分かれる。-n オプションを付けると数値式ソートとなる。

## 行の重複の消去

- uniq コマンドで対象ファイルを表示。連続して同じ内容の行はスルーされる。

## 文字列の置き換え

- tr コマンド(Translate)で対象 1 を対象 2 に置換。標準入力を対象とする。
- 文字列、というよりは一文字一文字を対象としている。
- あくまで標準出力されるだけ。元のファイルは変更されない。
  - リダイレクトで新規ファイルに排出、という使い方もできる。

## ファイルの比較(diff)

- ファイルとファイルの比較。
- -u・-c オプションで詳細表示可能。

# vi エディタ

※一旦とばす

# 管理者の仕事

## グループとユーザ

- Linux を利用するにはユーザアカウントが必要。
- グループを使えば複数のアカウントを束ねることが可能
- システム管理者は必要に応じてユーザを定義できる。
  - ユーザの定義は/etc/passwd ファイルに記述。直接編集ではなく、専用のコマンドで編集することが推奨されている。
  - useradd・・・ユーザの新規作成
  - -g でグループ指定、-u でユーザ ID 指定可能。
- ユーザアカウントを変更するには usermod コマンドを使う。(modify かな？)
  - -c オプションでコメントの変更
- ユーザの削除には userdel コマンド
- ユーザは必ず 1 つ以上のグループに所属する。主要な所属グループをプライマリグループと呼ぶ。
- /etc/group ファイルに内容記述。ユーザと同じく、グループも定義ファイルを直接触るのではなく専用コマンドで編集うすことが推奨されている。
- groupadd・・・グループの新規作成。
- groumod・・・編集
- groupdel・・・削除。ユーザが所属していないグループのみ削除可能。

## パスワードとパスワードファイル

ユーザを利用するにはパスワードが必要で、パスワード情報は/etc/shadow ファイルに暗号化の上で保存されている。

### パスワードファイル

- パスワードファイルに記述された 1 行あたりのユーザ情報は下記のようになる。

  > account:password:UID:GID:GECOS:directory:shell

  ※ GECOS = General Electric Comprehensive Operating System 　ユーザの名前またはコメントのフィールド。

  - パスワード部は現在では shadow ファイルに記述される為、x とだけ記述されている。

### グループファイル

- グループファイルの 1 行あたりの内容は次の通り。
  > group_name:password:GID:user_list

### パスワード

- 作成したユーザはパスワードを登録するとログイン可能に。
- パスワードの登録にはパスワードが必要のため、最初は root ユーザでやる必要がある。
- コマンドとしての passwd コマンドで編集していく。

## 雑多メモ

- 一般ユーザは基本は sudo 権限(?)を与えられていないので、一旦 root ユーザでログインなりして権限の編集が必要。
  - 般ユーザのターミナル上で 『su -』で root ユーザにアクセスを試みることが可能。PW 分かってればそれで入れる。
